<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0"><channel><title>Youngs羊示</title><link>https://ivanlee99.github.io/</link><description>对酒当歌，人生几何？譬如朝露，去日苦多。哀吾生之须臾，羡长江之无穷。吾尝终日而思矣，不如须臾之所学也。</description><copyright>Youngs羊示</copyright><docs>http://www.rssboard.org/rss-specification</docs><generator>python-feedgen</generator><image><url>https://avatars.githubusercontent.com/u/18308725?v=4</url><title>avatar</title><link>https://ivanlee99.github.io/</link></image><lastBuildDate>Mon, 25 Nov 2024 09:11:34 +0000</lastBuildDate><managingEditor>Youngs羊示</managingEditor><ttl>60</ttl><webMaster>Youngs羊示</webMaster><item><title>Git 规范</title><link>https://ivanlee99.github.io//post/4.html</link><description>![app yinxiang com_fx_749117a3-b1b8-4f28-a386-9e5dc19e482a (2)](https://github.com/user-attachments/assets/975e7ff8-55f3-428a-adfa-4ff85b9759e4)&#13;
。</description><guid isPermaLink="true">https://ivanlee99.github.io//post/4.html</guid><pubDate>Mon, 25 Nov 2024 09:11:04 +0000</pubDate></item><item><title>pm2不断重启排查和解决</title><link>https://ivanlee99.github.io//post/2.html</link><description># pm2不断重启排查&#13;
&#13;
【p0】pc端进程重启&#13;
&#13;
## 一、问题：pm2 list 显示进程不断重启&#13;
![qcLTdZsBo-KX6H6AGs3q03Xw6YysoQsBo86gLFit1xI](https://github.com/user-attachments/assets/c597e0aa-cb1d-47bd-927f-78139f4e0fa9)&#13;
![aMQgFYFN2LPXrumFoX47qJe6RK5O3XO6lYt8J2DrYsQ](https://github.com/user-attachments/assets/bdf11f94-93e1-4481-bc2d-ed4137a1a0ba)&#13;
![FHkbMpCXktNXOmqTS2Wj4I07igCwIiJStuy6OuVac2g](https://github.com/user-attachments/assets/4049b95d-943e-4c04-8839-0d4d57bb3232)&#13;
&#13;
&#13;
&#13;
## 二、解决办法&#13;
&#13;
本地打包查看内存情况&#13;
&#13;
1、新增.env.development.debug文件&#13;
&#13;
```plain&#13;
# just a flag&#13;
NUXT_APP_ENV = 'development.debug'&#13;
```&#13;
 &#13;
2、package.json 新增打包命令&#13;
&#13;
```plain&#13;
		'build:debug': 'node ./generate-version.js &amp;&amp; cross-env NODE_ENV=development.debug nuxt build',&#13;
		'debug': 'cross-env NODE_ENV=development.debug node --inspect  node_modules/.bin/nuxt start',&#13;
		'start:debug': 'rm -rf node_modules &amp;&amp; yarn install &amp;&amp; npm run build:debug &amp;&amp; npm run debug'&#13;
```&#13;
 &#13;
3、启动&#13;
&#13;
```plain&#13;
npm run start:debug&#13;
```&#13;
 &#13;
![GM9Y_Sol16fJv3zDbeMg4yUbGCky_2amLXIdd3pBqHg](https://github.com/user-attachments/assets/c5069739-e147-4c76-9972-6adf96a50297)&#13;
&#13;
&#13;
&#13;
4、检测内存&#13;
&#13;
chrome://inspect/#devices&#13;
&#13;
&lt;img width='778' alt='xAjQj-ESG3p3_LEwMEb8fpb3PAezwC--R9jXU_IF2oI' src='https://github.com/user-attachments/assets/2a3b665c-448b-48cc-b125-9ea9e4d5eaf6'&gt;&#13;
&#13;
&#13;
&lt;img width='1440' alt='OPN3BlYPUJL5Ck8jJi0idNRNLtilt-utioJPBOs66qM' src='https://github.com/user-attachments/assets/075f9c0d-f9e9-41f2-a87a-92229a1bcfff'&gt;&#13;
&#13;
&#13;
未访问localhost:3000前打1次内存快照&#13;
&#13;
访问localhost:3000后打第2次快照&#13;
&#13;
关闭localhost:3000标签后打第三次快照&#13;
&#13;
访问localhost:3000后打第4次快照&#13;
&#13;
关闭localhost:3000标签后打第5次快照&#13;
&#13;
访问localhost:3000后打第6次快照&#13;
&#13;
关闭localhost:3000标签后打第7次快照&#13;
&#13;
&#13;
&lt;img width='1440' alt='WaMxganUC8h_8uXh7CufDioYDDfsiZJIdghHw0VkQb0' src='https://github.com/user-attachments/assets/c85a7014-3bea-454a-9a8c-582d23eaa106'&gt;&#13;
&#13;
&#13;
&#13;
&#13;
内存不断增加，查看第5和弟6次之间分配的内存&#13;
&#13;
点击具体实例，点击对应的文件&#13;
&#13;
查看对应代码的情况&#13;
&#13;
&lt;img width='1440' alt='TrRLtJyTzfoeEfX5MAItHoNbPUn_eo3t9Iilx2P3niI' src='https://github.com/user-attachments/assets/3fdd98da-9f40-434a-bb01-e65a039ec327'&gt;&#13;
&#13;
&#13;
&lt;img width='1440' alt='Dn_qcZ-SlSMP1GTRYl8NXwopGDang393TDkhiRu8Rmo' src='https://github.com/user-attachments/assets/fa757604-b5d7-4db8-9ef7-3e94ef0f7ac6'&gt;&#13;
&#13;
&#13;
![4giPWSgINKpwiChJrJ7VAY8PEXnupSBB3PYXIkvmB8U](https://github.com/user-attachments/assets/5228b2f3-8bb1-4c8d-b517-a78187b27f67)&#13;
&#13;
&#13;
&#13;
![ogtZbpZjy4fjXie5WcgeMAN8H0CuZYbYDha9SFhCg_4](https://github.com/user-attachments/assets/639fd5bf-4ea2-4ff8-8350-1745a0f410d6)&#13;
&#13;
&#13;
发现是layouts/error.vue的computed中调用了setInterval 没清除&#13;
&#13;
## 三、修复&#13;
&#13;
computed 中注释`handleCountDown方法`&#13;
&#13;
改为mounted中调用&#13;
&#13;
![Gc-lsa0Jp4PQRCrHxElSThInc54ZWPVQMkWWNm46mcs](https://github.com/user-attachments/assets/67e4b41b-a54e-455d-8ab8-26c7947efe28)&#13;
&#13;
&#13;
&#13;
&#13;
## 四、修复成功后pm2 list 显示重启为0，内存没有飙升&#13;
&#13;
![H0FWTAsJV1Tzhnx9yCDSiFZj2-sZXqgDql92RKiHTmU](https://github.com/user-attachments/assets/9bc69438-5ab4-4e87-a99d-cce52fb33ab1)&#13;
&#13;
&#13;
&#13;
![HARrZcRYkhGNhlZNXiAiM44BiH2tVwh3F-MovXUBV5k](https://github.com/user-attachments/assets/746415a7-20ba-44cf-9f81-01a3a86b03db)&#13;
&#13;
&#13;
&#13;
![eI5mu3_t-ORlpLh4QEI7jCz5ZHa0a1O5KU6cJWkdF6c](https://github.com/user-attachments/assets/ec20823f-4e05-4b24-8727-ae4b6ca1f9c6)&#13;
&#13;
&#13;
&#13;
## 五、总结&#13;
&#13;
内存泄漏代码上就那些点～&#13;
&#13;
1、事件监听器：如果在组件中添加了事件监听器，但在组件销毁时没有移除它们，可能会导致内存泄漏。</description><guid isPermaLink="true">https://ivanlee99.github.io//post/2.html</guid><pubDate>Mon, 25 Nov 2024 07:08:49 +0000</pubDate></item><item><title>my first blog~</title><link>https://ivanlee99.github.io//post/1.html</link><description>[YoungsDream](https://ivanlee99.github.io/)&#13;
【创建仓库】完成了&#13;
请接着按照下面的步骤2和3进行操作，全部成功之后，本README.md文件会自动替换掉的哦！&#13;
&#13;
安装&#13;
【创建仓库】点击[通过模板创建仓库](https://github.com/new?template_name=Gmeek-template&amp;template_owner=Meekdai)，建议仓库名称为XXX.github.io，其中XXX为你的github用户名。</description><guid isPermaLink="true">https://ivanlee99.github.io//post/1.html</guid><pubDate>Mon, 25 Nov 2024 06:32:41 +0000</pubDate></item><item><title>关于</title><link>https://ivanlee99.github.io//about.html</link><description>本人前端攻城狮～&#13;
会一点前端知识～&#13;
但不限于前端～&#13;
。</description><guid isPermaLink="true">https://ivanlee99.github.io//about.html</guid><pubDate>Mon, 25 Nov 2024 08:04:07 +0000</pubDate></item></channel></rss>